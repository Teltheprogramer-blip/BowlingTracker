<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bowling Party!!! (Web-App Companion)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: #222;
      color: #fff;
      margin: 0;
      padding: 0;
    }

    .title-container {
      margin-top: 20px;
    }

    .title-image {
      max-width: 90%;
      height: auto;
    }

    .logo-container {
      text-align: center;
      margin: 30px 0;
    }

    .logo-image {
      max-width: 140px;
      height: auto;
      opacity: 0.9;
    }

    .controls {
      margin: 20px;
    }

    select, button {
      padding: 10px;
      font-size: 18px;
      margin: 5px;
      border-radius: 8px;
    }

    .team-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 20px 0;
    }

    .scoreboard {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 20px auto;
      max-width: 95%;
    }

    .player {
      margin: 20px 0;
      border: 2px solid #555;
      border-radius: 12px;
      padding: 10px;
      width: 100%;
      background: #333;
    }

    .player h3 {
      margin-bottom: 10px;
    }

    /* âœ… Scrollable frames */
    .frames {
      display: flex;
      flex-direction: row;
      justify-content: flex-start;
      flex-wrap: nowrap;
      overflow-x: auto;
      overflow-y: hidden;
      -webkit-overflow-scrolling: touch; /* smooth scrolling */
      max-width: 95vw; /* fit nicely on mobile */
      margin: 0 auto;
    }

    .frame {
      border: 1px solid #777;
      margin: 2px;
      padding: 8px;
      min-width: 55px;
      background: #444;
      border-radius: 8px;
      font-size: 18px;
      flex: 0 0 auto; /* prevent stretching */
    }

    .inputs {
      display: flex;
      justify-content: center;
      margin-bottom: 5px;
    }

    .inputs input {
      width: 24px;
      height: 24px;
      text-align: center;
      margin: 0 2px;
      font-size: 18px;
      border-radius: 4px;
      border: none;
    }

    .score {
      font-size: 20px;
      font-weight: bold;
      color: #ffcc00;
      visibility: hidden; /* hidden until frame completes */
    }
  </style>
</head>
<body>
  <!-- Title Image -->
  <div class="title-container">
    <img src="assets/bowling party.jpg" alt="Bowling Party!!!" class="title-image">
  </div>

  <div class="controls">
    <h2>ðŸŽ³ Team Setup ðŸŽ³</h2>
    <p>Select up to 5 players per team.</p>
    <div>
      <label>Team 1 Players:</label>
      <select id="team1Count">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
    </div>
    <div>
      <label>Team 2 Players:</label>
      <select id="team2Count">
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
        <option value="4">4</option>
        <option value="5">5</option>
      </select>
    </div>
    <button onclick="startGame()">Start Game ðŸš€</button>
  </div>

  <div id="scoreboard" class="scoreboard"></div>

  <!-- Bottom Logo -->
  <div class="logo-container">
    <img src="assets/SCG Logo.jpg" alt="SCG Logo" class="logo-image">
  </div>

  <script>
    const archetypes = [
      { name: "Tilly", handicap: 39, average: 166 },
      { name: "Debbie", handicap: 71, average: 121 },
      { name: "Robert", handicap: -59, average: 279 },
      { name: "Samuel", handicap: 19, average: 188 },
      { name: "Peyton", handicap: -27, average: 241 },
      { name: "Amara", handicap: -40, average: 255 },
      { name: "Tito", handicap: 27, average: 180 },
      { name: "Wendy", handicap: -46, average: 262 },
      { name: "David", handicap: 32, average: 174 },
      { name: "Marcus", handicap: 49, average: 156 },
      { name: "Jacob", handicap: 58, average: 145 },
      { name: "Amanda", handicap: 32, average: 164 }
    ];

    function startGame() {
      const team1Count = parseInt(document.getElementById("team1Count").value);
      const team2Count = parseInt(document.getElementById("team2Count").value);
      const scoreboard = document.getElementById("scoreboard");
      scoreboard.innerHTML = "";

      buildTeam(scoreboard, "Team 1", team1Count);
      buildTeam(scoreboard, "Team 2", team2Count);
    }

    function buildTeam(scoreboard, teamName, playerCount) {
      const teamContainer = document.createElement("div");
      teamContainer.className = "team-container";

      const teamTitle = document.createElement("h2");
      teamTitle.textContent = `ðŸ”¥ ${teamName} ðŸ”¥`;
      teamContainer.appendChild(teamTitle);

      for (let i = 0; i < playerCount; i++) {
        const player = document.createElement("div");
        player.className = "player";

        const playerName = document.createElement("h3");
        const select = document.createElement("select");
        archetypes.forEach(arc => {
          const option = document.createElement("option");
          option.value = arc.name;
          option.textContent = `${arc.name} (Avg: ${arc.average}, HCP: ${arc.handicap})`;
          select.appendChild(option);
        });
        playerName.appendChild(select);
        player.appendChild(playerName);

        const frames = document.createElement("div");
        frames.className = "frames";

        for (let f = 1; f <= 10; f++) {
          const frame = document.createElement("div");
          frame.className = "frame";

          const inputs = document.createElement("div");
          inputs.className = "inputs";

          const input1 = document.createElement("input");
          const input2 = document.createElement("input");
          input1.maxLength = 1;
          input2.maxLength = 1;

          inputs.appendChild(input1);
          inputs.appendChild(input2);

          if (f === 10) {
            const input3 = document.createElement("input");
            input3.maxLength = 1;
            inputs.appendChild(input3);
          }

          frame.appendChild(inputs);

          const score = document.createElement("div");
          score.className = "score";
          score.textContent = "0";
          frame.appendChild(score);

          [input1, input2].forEach(inp => {
            inp.addEventListener("input", () => {
              if (input1.value && input2.value) {
                score.style.visibility = "visible";
                score.textContent = calculateFrameScore(input1.value, input2.value);
              }
            });
          });

          frames.appendChild(frame);
        }

        player.appendChild(frames);
        teamContainer.appendChild(player);
      }

      scoreboard.appendChild(teamContainer);
    }

    function calculateFrameScore(val1, val2) {
      let score1 = convertInput(val1);
      let score2 = convertInput(val2);

      if (val1.toUpperCase() === "X") return 10;
      if (val2 === "/") return 10;

      return score1 + score2;
    }

    function convertInput(val) {
      if (val === "-") return 0;
      if (!isNaN(val) && val !== "") return parseInt(val);
      return 0;
    }
  </script>
</body>
</html>

