<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bowling Party!!! (Web-App Companion)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #222;
      color: #fff;
      margin: 0;
      padding: 0;
      text-align: center;
    }

    .teams {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .team {
      background: #333;
      padding: 15px;
      border-radius: 12px;
      min-width: 300px;
    }

    .player {
      margin-bottom: 20px;
    }

    select {
      font-size: 1rem;
      padding: 6px;
      min-width: 230px;
      text-align: center;
    }

    .frames {
      display: flex;
      overflow-x: auto;
      padding: 10px;
      gap: 6px;
      margin-bottom: 15px;
    }

    .frame {
      background: #444;
      padding: 8px;
      border-radius: 8px;
      min-width: 65px;
      flex-shrink: 0;
    }

    .throws {
      display: flex;
      justify-content: center;
      gap: 4px;
    }

    .throws input {
      width: 22px;
      text-align: center;
      font-size: 1rem;
      padding: 4px;
      border-radius: 4px;
      border: none;
    }

    .score {
      margin-top: 6px;
      font-size: 1rem;
      font-weight: bold;
    }

    .frame-label {
      margin-top: 4px;
      font-size: 0.8rem;
      font-weight: bold;
      color: #ffeb3b;
    }

    .total {
      margin-top: 10px;
      font-size: 1.2rem;
      font-weight: bold;
    }

    button {
      padding: 10px 20px;
      margin: 20px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background: #ff9800;
      color: #000;
      cursor: pointer;
    }

    button:hover {
      background: #ffa733;
    }

    img {
      max-width: 90%;
      height: auto;
    }

    .logo {
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <!-- Title Image -->
  <div>
    <img src="assets/bowling-party.jpg" alt="Bowling Party!!!">
  </div>

  <div class="teams">
    <div class="team" id="team1">
      <h2>üé≥ Team 1</h2>
      <div class="players"></div>
    </div>
    <div class="team" id="team2">
      <h2>üé≥ Team 2</h2>
      <div class="players"></div>
    </div>
  </div>

  <button onclick="calculateWinner()">Calculate Winner</button>
  <h2 id="winner"></h2>

  <!-- Bottom Logo -->
  <div class="logo">
    <img src="assets/scg-logo.jpg" alt="SCG Logo">
  </div>

  <script>
    const archetypes = [
      { name: "Tilly", handicap: 39, average: 166 },
      { name: "Debbie", handicap: 71, average: 121 },
      { name: "Robert", handicap: -59, average: 279 },
      { name: "Samuel", handicap: 19, average: 188 },
      { name: "Peyton", handicap: -27, average: 241 },
      { name: "Amara", handicap: -40, average: 255 },
      { name: "Tito", handicap: 27, average: 180 },
      { name: "Wendy", handicap: -46, average: 262 },
      { name: "David", handicap: 32, average: 174 },
      { name: "Marcus", handicap: 49, average: 156 },
      { name: "Jacob", handicap: 58, average: 145 },
      { name: "Amanda", handicap: 32, average: 164 }
    ];

    function createPlayer(teamDiv) {
      const playerDiv = document.createElement("div");
      playerDiv.classList.add("player");

      const select = document.createElement("select");
      archetypes.forEach(a => {
        const opt = document.createElement("option");
        opt.value = a.name;
        opt.textContent = `${a.name} (Avg ${a.average}, Hdc ${a.handicap})`;
        select.appendChild(opt);
      });

      const framesDiv = document.createElement("div");
      framesDiv.classList.add("frames");

      for (let i = 1; i <= 10; i++) {
        const frameDiv = document.createElement("div");
        frameDiv.classList.add("frame");

        const throwsDiv = document.createElement("div");
        throwsDiv.classList.add("throws");

        const input1 = document.createElement("input");
        input1.maxLength = 1;
        const input2 = document.createElement("input");
        input2.maxLength = 1;
        throwsDiv.appendChild(input1);
        throwsDiv.appendChild(input2);

        if (i === 10) {
          const input3 = document.createElement("input");
          input3.maxLength = 1;
          throwsDiv.appendChild(input3);
        }

        const scoreDiv = document.createElement("div");
        scoreDiv.classList.add("score");

        const labelDiv = document.createElement("div");
        labelDiv.classList.add("frame-label");
        labelDiv.textContent = `Frame ${i}`;

        frameDiv.appendChild(throwsDiv);
        frameDiv.appendChild(scoreDiv);
        frameDiv.appendChild(labelDiv);

        framesDiv.appendChild(frameDiv);
      }

      const totalDiv = document.createElement("div");
      totalDiv.classList.add("total");

      playerDiv.appendChild(select);
      playerDiv.appendChild(framesDiv);
      playerDiv.appendChild(totalDiv);

      teamDiv.querySelector(".players").appendChild(playerDiv);
    }

    function setupTeams() {
      for (let i = 0; i < 5; i++) {
        createPlayer(document.getElementById("team1"));
        createPlayer(document.getElementById("team2"));
      }
    }

    function calculateWinner() {
      const teams = [document.querySelectorAll("#team1 .player"), document.querySelectorAll("#team2 .player")];
      let totals = [0, 0];

      teams.forEach((players, teamIndex) => {
        players.forEach(player => {
          const name = player.querySelector("select").value;
          const archetype = archetypes.find(a => a.name === name);
          let score = 0;

          const frames = player.querySelectorAll(".frame");
          frames.forEach(frame => {
            const inputs = frame.querySelectorAll("input");
            let throws = Array.from(inputs).map(i => i.value.toUpperCase());

            let frameScore = 0;

            if (throws[0] === "X") {
              frameScore = 10;
            } else {
              let first = throws[0] === "-" ? 0 : parseInt(throws[0]) || 0;
              let second = throws[1] === "-" ? 0 : parseInt(throws[1]) || 0;
              if (throws[1] === "/") {
                second = 10 - first;
              }
              frameScore = first + second;
              if (throws[2]) {
                frameScore += throws[2] === "X" ? 10 : (throws[2] === "-" ? 0 : parseInt(throws[2]) || 0);
              }
            }

            score += frameScore;
            frame.querySelector(".score").textContent = frameScore > 0 ? score : "";
          });

          score += archetype.handicap;
          player.querySelector(".total").textContent = `Total: ${score}`;
          totals[teamIndex] += score;
        });
      });

      const winnerText = totals[0] > totals[1] 
        ? `üéâ Team 1 Wins! (${totals[0]} vs ${totals[1]})`
        : totals[1] > totals[0]
          ? `üéâ Team 2 Wins! (${totals[1]} vs ${totals[0]})`
          : `ü§ù It's a Tie! (${totals[0]} - ${totals[1]})`;

      document.getElementById("winner").textContent = winnerText;
    }

    setupTeams();
  </script>
</body>
</html>

